<mat-expansion-panel 
  (opened)="panelOpenState = true"
  (closed)="panelOpenState = false">

    <!-- Header UI is a unique component that dispays at all times -->
    <mat-expansion-panel-header>
      <mat-panel-title> 
        Notifications
        <div *ngIf="notifications$ | async as notificationQty" 
            matBadge={{notificationQty.length}}
            mat-raised-button
            color="primary"
            matBadgeSize="large" 
            matBadgeColor="accent"
            matBadgeOverlap="before | above"
            class="bg-blue-400 rounded-2xl px-1 mb-3"></div>
      </mat-panel-title>
    </mat-expansion-panel-header>

    <!-- Lazy load message content -->
    <ng-template matExpansionPanelContent>
      <mat-list *ngFor="let notification of notifications$ | async; index as i">
        <mat-list-item> {{i}}: {{notification.message }} </mat-list-item>
      </mat-list>
    </ng-template>

</mat-expansion-panel>